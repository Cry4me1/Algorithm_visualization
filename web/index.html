<!doctype html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>三维扫描线算法可视化</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <div class="app-container">
    <!-- 左侧算法选择面板 -->
    <div class="left-panel">
      <div class="algorithm-header">
        <h2>三维扫描线算法可视化</h2>
        <div class="subtitle">算法左链: 旋转<br>算法右链: 平移<br>滚轮: 缩放</div>
      </div>
      
      <div class="control-panel">
        <h3>控制面板</h3>
        
        <div class="algorithm-selector">
          <h4>选择算法</h4>
          <select id="algorithm-select" title="选择要演示的算法">
            <option value="rect3d">长方体积并</option>
            <option value="segint">线段相交检测</option>
            <option value="polyfill">多边形填充</option>
            <option value="cp3d">最近点对(3D)</option>
            <option value="skyline">天际线问题</option>
          </select>
        </div>

        <div class="algorithm-controls">
          <h4 id="current-algorithm-title">长方体积并</h4>
          <div class="control-buttons">
            <button id="add-rect" class="control-btn">添加长方体</button>
            <button id="clear-all" class="control-btn">清空</button>
            <button id="calculate-volume" class="control-btn">计算体积</button>
            <button id="animate-scan" class="control-btn primary">扫描线动画</button>
          </div>
        </div>

        <div class="view-controls">
          <h4>视图控制</h4>
          <div class="control-buttons">
            <button id="view-reset" class="control-btn">重置视角</button>
            <button id="view-slice" class="control-btn">切换维度标记</button>
            <button id="view-grid" class="control-btn">切换网格</button>
          </div>
          
          <div class="color-control">
            <label for="bg-color">背景色</label>
            <input type="color" id="bg-color" value="#4c56a8" title="选择背景颜色">
          </div>
        </div>
      </div>
    </div>

    <!-- 右侧主要可视化区域 -->
    <div class="main-content">
      <div class="canvas-container">
        <canvas id="main-canvas" width="1200" height="800"></canvas>
        <div class="canvas-overlay">
          <div id="info-panel" class="info-panel">
            <div id="scan-info">扫描线位置: <span id="scan-pos">--</span></div>
            <div id="volume-info">当前体积: <span id="current-volume">--</span></div>
            <div id="algorithm-info">算法状态: <span id="algo-status">就绪</span></div>
          </div>
        </div>
      </div>
      
      <div class="timeline-container">
        <div class="timeline-controls">
          <button id="play-pause" class="timeline-btn">▶</button>
          <button id="step-backward" class="timeline-btn">⏮</button>
          <button id="step-forward" class="timeline-btn">⏭</button>
          <span class="speed-control">
            <label for="speed-slider">速度:</label>
            <input type="range" id="speed-slider" min="1" max="10" value="5" title="调整动画速度">
          </span>
        </div>
        <div class="timeline-bar">
          <div id="progress-bar" class="progress-bar"></div>
          <input type="range" id="timeline-slider" min="0" max="100" value="0" class="timeline-slider" title="拖拽查看不同时间点">
        </div>
      </div>
    </div>
  </div>

    <section id="cp3d" class="tab">
      <div class="panel">
        <h2>最近点对 (3D)</h2>
        <canvas id="cp3d-canvas" width="600" height="400"></canvas>
        <div class="controls">
          <button id="cp3d-run">随机演示</button>
        </div>
      </div>
    </section>

    <section id="skyline" class="tab">
      <div class="panel">
        <h2>天际线</h2>
        <canvas id="skyline-canvas" width="600" height="300"></canvas>
        <div class="controls">
          <button id="skyline-run">生成轮廓</button>
        </div>
      </div>
    </section>
  </main>
  <script src="assets/app.js"></script>
</body>
</html>
